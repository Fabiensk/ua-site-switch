This is the ua-switch-auto add-on.  It contains:

* A program (lib/main.js).
* A few tests.
* Some meager documentation.
